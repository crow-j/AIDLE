import os

# 현재 경로에 folder 생성
FOLDER_NAME = 'start_0b2' ### 조건 변경을 원하면 수정할 부분(1) - 폴더명
if not(os.path.isdir(FOLDER_NAME)):
    os.makedirs(os.path.join(FOLDER_NAME))
    

# read_folder: 복사할 파일이 저장된 폴더 경로(parsing(using_eml-parser) 함수에 인자로 준 경로와 동일, 모든 데이터셋이 저장된 경로)
# write_folder: 복사한 파일을 저장할 폴더 경로
# start_str: 맨 앞 3자리 글자(조건(맨 앞 글자 수 등)을 바꾸고 싶으면, copy_file() 함수내 'if not(file[0:3] == start_str):' 부분 수정)
def copy_file(read_folder, write_folder, start_str):
    file_list = os.listdir(read_folder)
    
    for file in file_list:
        if not (file[0:3] == start_str):  ### 조건 변경을 원하면 수정할 부분(2) - 맨 앞 글자수를 바꾸고 싶으면 인데싱 범위를 수정
            continue
            
        read_file_path = os.path.join(read_folder, file)
        fr = open(read_file_path, 'r', encoding='utf-8' )
        write_file_path = os.path.join(write_folder, file)
        fw = open(write_file_path, 'w', encoding='utf-8')
        while True:
            line = fr.readline()
            fw.write(line)
            if not line:
                break
        fr.close()
        fw.close()

copy_file('./dataset/eml', FOLDER_NAME, '0b2')   ### 조건 변경을 원하면 수정할 부분(3) - 데이터셋이 저장된 경로(첫번째 인자), 복사할 파일의 맨 앞 세글자(세번째 인자)
